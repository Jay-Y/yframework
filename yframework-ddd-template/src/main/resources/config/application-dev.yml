# ===================================================================
# Spring Boot configuration for the "dev" profile.
#
# This configuration overrides the application.yml file.
#
# More information on profiles: https://jhipster.github.io/profiles/
# More information on configuration properties: https://jhipster.github.io/common-application-properties/
# ======================================== ===========================

# ===================================================================
# Standard Spring Boot properties.
# Full reference is available at:
# http://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html
# ===================================================================

spring:
    profiles:
        active: dev
    autoconfigure:
        exclude: org.springframework.boot.autoconfigure.cassandra.CassandraAutoConfiguration
    devtools:
        restart:
            enabled: true
        livereload:
            enabled: false # we use gulp + BrowserSync for livereload
    jackson:
        serialization.indent_output: true
#   Database
#    datasource:
#        driver-class-name: oracle.jdbc.driver.OracleDriver
#        type: com.zaxxer.hikari.HikariDataSource
#        url: jdbc:oracle:thin:@119.23.14.92:1521:bocdb
#        username: stpl
#        password: stpl
#        hikari:
#            data-source-properties:
#                cachePrepStmts: true
#                prepStmtCacheSize: 250
#                prepStmtCacheSqlLimit: 2048
#                useServerPrepStmts: true
#   H2 Database
    datasource:
        type: com.zaxxer.hikari.HikariDataSource
        url: jdbc:h2:file:./target/h2db/test;AUTO_SERVER=TRUE;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
        username: test
        password:
    h2:
        console:
            enabled: true
    mail:
        host: smtp.163.com
        port: 25
        username: ysj570440569@163.com
        password: abc570440
    messages:
        cache-seconds: 1
    thymeleaf:
        cache: false
    redis:
        database: 0
#        host: 119.23.14.92
        host: 127.0.0.1
        port: 6379
        pool:
          max-active: 8
          max-wait: -1
          max-idle: 8
          min-idle: 0
    kafka:
      # kafka服务器地址(可以多个)
      bootstrap-servers: 127.0.0.1:9092
      producer:
        # key/value的序列化
        key-serializer: org.apache.kafka.common.serialization.StringSerializer
        value-serializer: org.apache.kafka.common.serialization.StringSerializer
        # 批量抓取
        batch-size: 65536
        # 缓存容量
        buffer-memory: 524288
        # 服务器地址
#        bootstrap-servers: 127.0.0.1:9092
      consumer:
        # 指定一个默认的组名
        group-id: kafka2
        # earliest:当各分区下有已提交的offset时，从提交的offset开始消费；无提交的offset时，从头开始消费
        # latest:当各分区下有已提交的offset时，从提交的offset开始消费；无提交的offset时，消费新产生的该分区下的数据
        # none:topic各分区都存在已提交的offset时，从offset后开始消费；只要有一个分区不存在已提交的offset，则抛出异常
        auto-offset-reset: earliest
        # key/value的反序列化
        key-deserializer: org.apache.kafka.common.serialization.StringDeserializer
        value-deserializer: org.apache.kafka.common.serialization.StringDeserializer
liquibase:
    contexts: dev
    enabled: true

# ===================================================================
# To enable SSL, generate a certificate using:
# keytool -genkey -alias server -storetype PKCS12 -keyalg RSA -keysize 2048 -keystore keystore.p12 -validity 3650
#
# You can also use Let's Encrypt:
# https://maximilian-boehm.com/hp2121/Create-a-Java-Keystore-JKS-from-Let-s-Encrypt-Certificates.htm
#
# Then, modify the server.ssl properties so your "server" configuration looks like:
#
# server:
#    port: 8443
#    ssl:
#        key-store: keystore.p12
#        key-store-password: <your-password>
#        keyStoreType: PKCS12
#        keyAlias: server
# ===================================================================
server:
    port: 8080

# ===================================================================
# Application specific properties
# Add your own application properties here, see the ApplicationProperties class
# to have type-safe configuration, like in the JHipsterProperties above
#
# More documentation is available at:
# https://jhipster.github.io/common-application-properties/
# ===================================================================

application:
    http:
        version: V_1_1 # To use HTTP/2 you will need SSL support (see above the "server.ssl" configuration)
    # CORS is only enabled by default with the "dev" profile, so BrowserSync can access the API
    cors:
        allowed-origins: "*"
        allowed-methods: GET, PUT, POST, DELETE, OPTIONS
        allowed-headers: "*"
        exposed-headers: "X-Total-Count,Link,X-App-Alert,X-App-Params,X-App-Error"
        allow-credentials: true
        max-age: 1800
    mail: # specific JHipster mail property, for standard properties see MailProperties
        from: ysj570440569@163.com
        base-url: http://127.0.0.1:8080
